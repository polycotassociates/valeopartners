id: valeo_rates
label: Migrate Rates and Fees

migration_group: valeomiggroup

# Every migration must have a source plugin. Set this to the ID of the plugin to
# use.
#
# This is the extract phase of your migration.
source:
  plugin: d6_node
  node_type: rate

# Every migration must also have a destination plugin, which handles writing
# the migrated data in the appropriate form for that particular kind of data.
# This value should be the ID of the destination plugin to use.
#
# This is the load phase of your migration.
destination:
  plugin: entity:node
  default_bundle: vp_type_rates

#
# This is the transform phase of your migration.
process:
  type:
    plugin: default_value
    default_value: vp_type_rate
  nid: nid
  vid: vid
  title: title
  uid: node_uid
  status: status
  created: created
  changed: changed
  comment: comment
  promote: promote
  sticky: sticky
  revision_uid: revision_uid
  revision_log: log
  revision_timestamp: timestamp

  field_vp_rate_hours: field_rate_hours
  field_vp_rate_flat_fee: field_rate_flatfee
  field_vp_rate_hourly: field_rate_hourly
  field_vp_rate_discount: field_rate_discount
  field_vp_rate_notes: field_rate_notes
  field_vp_rate_retainer: field_rate_retainer
  field_vp_rate_sec_filing: field_rate_secfiling
  field_vp_rate_success_fee: field_rate_success
  field_vp_rate_total: field_rate_total
  field_vp_rate_total_fees: field_rate_totalfees
  field_vp_rate_transactional_fee: field_rate_transactional
  field_vp_rate_transaction_amount: field_rate_transactionamount

  field_vp_rate_position:
    plugin: generic_taxonomy_item
    source: field_rate_position1

  field_vp_rate_transaction_type:
    plugin: generic_taxonomy_item
    source: field_rate_transactiontype

  field_vp_rate_filing:
    plugin: generic_taxonomy_item
    source: field_rate_filing

  field_vp_rate_company:
    plugin: generic_taxonomy_item
    source: field_rate_client

  field_vp_rate_firm:
    plugin: generic_taxonomy_item
    source: field_rate_firm

  field_vp_rate_individual:
    plugin: generic_taxonomy_item
    source: field_rate_individual

  field_vp_rate_attorneys:
    plugin: generic_taxonomy_item
    source: field_rate_referencedattorneys

  field_vp_rate_primaryfee_calc: field_rate_primaryfee_calc
  field_vp_rate_primaryfeetypecalc: field_rate_primaryfeetype_calc
  field_vp_rate_record_type: field_rate_recordtype
  field_vp_rate_total_fees_calc: field_rate_totalfees_calc
  field_vp_rate_standard: field_rate_standard
  field_vp_rate_fees_listed_calc: field_rate_feeslisted_calc

  #Paragraph: field_vp_rate_referenced_company


# lando drush config-devel-export valeo_partners_migrations;
# lando drush migrate-rollback valeo_contact;
# lando drush migrate-import valeo_contact --feedback="100 items";
# lando drush migrate-messages valeo_contact
# 13062,87264,102786
